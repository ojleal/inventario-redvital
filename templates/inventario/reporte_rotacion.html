{% include 'header.html' %}
<div class="form-group container">
    <form method="POST" action="/rotacion_producto" enctype="multipart/form-data">
        <div class="card">
            <div class="card-header">Reporte de rotación de productos</div>
            <div class="card-body">
                <p>
                    <div class="form-group">
                        <input id="txtFechaInicio" class="form-control" type="date" name="txtFechaInicio" placeholder="Fecha de inicio" style="display:inline;width:30%">
                        <input id="txtFechaFin" class="form-control" type="date" name="txtFechaFin" placeholder="Fecha final" style="display:inline;width:30%">
                        <input id="txtSucursal" class="form-control" type="text" name="txtSucursal" placeholder="Sucursal" style="display:inline;width:30%" disabled>
                        <select class="form-select" id="Opciones" aria-label="Seleccione una Sucursal" style="display:inline;width:30%" onchange="changeOption();">
                            <option selected value="opcion">Seleccione una opción de búsqueda</option>
                            <option value="003001">Valencia</option>
                            <option value="003002">Barquisimeto</option>
                            <option value="003003">Turmero</option>
                            <option value="003004">La Yaguara</option>
                            <option value="003005">Maracaibo</option>
                            <option value="003006">La Urbina</option>
                            <option value="003007">Guarenas</option>
                            <option value="003008">La Guaira</option>
                        </select>
                    </div>
                    <br>
                    <div class="form-group">
                        <input type="submit" class="btn btn-success" value="Ejecutar Consulta" />
                        <a href="{{url_for('reporte_rotacion')}}" class="btn btn-primary">Volver</a>
                    </div>
                    <hr>
                </p>
            </div>
        </div>
    </form>

    <script type="text/javascript">
        function changeOption() {
            //selectElement = document.querySelector('#Opciones');
            var selectBox = document.getElementById("Opciones");
            var selOpt = selectBox.options[selectBox.selectedIndex].value;
            document.getElementsByName('txtSucursal')[0].placeholder = selOpt;
            document.getElementsByName('txtSucursal')[0].value = selOpt;
            return false;
        }
    </script>
</div>

<div class="container table-responsive">
    <table class="table align-middle table-light table-striped table-hover table-bordered table-sm">
        <thead class="thead-dark">
            <tr>
                <th>Código Base Gráfico</th>
                <th>Código de Barras</th>
                <th>Descripción</th>
                <th>Inventario Inicial</th>
                <th>Salidas</th>
                <th>Entradas</th>
                <th>Inventario Final</th>
                <th>Costo Unitario</th>
            </tr>
        </thead>
        <tbody>
            {% for rotacion in rotacion %}
            <tr>
                <td>{{ rotacion[0] }}</td>
                <td>{{ rotacion[1] }}</td>
                <td>{{ rotacion[2] }}</td>
                <td>{{ rotacion[3] }}</td>
                <td>{{ rotacion[4] }}</td>
                <td>{{ rotacion[5] }}</td>
                <td>{{ rotacion[6] }}</td>
                <td>{{ rotacion[7] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<style>
    .table thead th {
        vertical-align: middle !important;
        text-align: center !important;
        border-bottom: 2px solid #007bff;
        text-transform: uppercase;
    }
    
    .table-bordered td,
    .table-bordered th {
        border: 1px solid #212529;
    }
    
    .table-striped>tbody>tr:nth-of-type(odd)>* {
        --bs-table-accent-bg: #007bff;
        color: var(--bs-table-striped-color);
        color: #fff;
    }
    
    .table .thead-dark th {
        color: #fff;
        background-color: #729bd9;
        border-color: #32383e;
        font-size: 14px;
    }
    
    .table td,
    .table th {
        padding: .75rem;
        vertical-align: top;
        border-top: 1px solid #dee2e6;
        font-size: 14px;
    }
    
    thead tr th {
        position: sticky;
        top: 0;
        z-index: 10;
        background-color: #ffffff;
    }
    
    .table-responsive {
        height: 650px;
        overflow: scroll;
    }
</style>
{% include 'footer.html' %}